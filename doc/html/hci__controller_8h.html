<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>bluez_tools: hci/include/hci_controller.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">bluez_tools
   &#160;<span id="projectnumber">0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('hci__controller_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">hci_controller.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Module bluez_tools.hci.hci_controller bringing an "upper-layer" to the BlueZ's HCI (Host Controller Interface) functions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;bluetooth/bluetooth.h&gt;</code><br />
<code>#include &lt;bluetooth/hci.h&gt;</code><br />
<code>#include &quot;<a class="el" href="hci__socket_8h_source.html">hci_socket.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for hci_controller.h:</div>
<div class="dyncontent">
<div class="center"><img src="hci__controller_8h__incl.png" border="0" usemap="#hci_2include_2hci__controller_8h" alt=""/></div>
<map name="hci_2include_2hci__controller_8h" id="hci_2include_2hci__controller_8h">
<area shape="rect" id="node4" href="hci__socket_8h.html" title="Module bluez_tools.hci.hci_socket bringing functions to deal with hci_sockets. Those sockets are &quot;int..." alt="" coords="177,80,273,107"/><area shape="rect" id="node6" href="list_8h_source.html" title="list.h" alt="" coords="387,155,437,181"/><area shape="rect" id="node8" href="bt__device_8h.html" title="Module bluez_tools.bt.bt_device defining the basics of manipulating BT devices. " alt="" coords="222,155,311,181"/></map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="hci__controller_8h__dep__incl.png" border="0" usemap="#hci_2include_2hci__controller_8hdep" alt=""/></div>
<map name="hci_2include_2hci__controller_8hdep" id="hci_2include_2hci__controller_8hdep">
<area shape="rect" id="node2" href="hci__controller_8c_source.html" title="hci/hci_controller.c" alt="" coords="28,80,159,107"/></map>
</div>
</div>
<p><a href="hci__controller_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhci__controller__t.html">hci_controller_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a2eca2b368aaeefc3764faf7184c7e3c9"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hci__controller_8h.html#a2eca2b368aaeefc3764faf7184c7e3c9">hci_state_t</a> { <br />
&#160;&#160;<b>HCI_STATE_CLOSED</b> = 0, 
<b>HCI_STATE_OPEN</b> = 1, 
<b>HCI_STATE_SCANNING</b> = 2, 
<b>HCI_STATE_ADVERTISING</b> = 3, 
<br />
&#160;&#160;<b>HCI_STATE_READING</b> = 4, 
<b>HCI_STATE_WRITING</b> = 5
<br />
 }</td></tr>
<tr class="memdesc:a2eca2b368aaeefc3764faf7184c7e3c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Possible states of the hci_controller. The hci_controller is a state machine. That is to say that a virtual state is associated to each real used state of the adapter. For instance, when an adapter is scanning devices, the state machine will be in the.  <a href="hci__controller_8h.html#a2eca2b368aaeefc3764faf7184c7e3c9">More...</a><br /></td></tr>
<tr class="separator:a2eca2b368aaeefc3764faf7184c7e3c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a43e49e2f34480dbbbad3b35380ad6be8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structhci__controller__t.html">hci_controller_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hci__controller_8h.html#a43e49e2f34480dbbbad3b35380ad6be8">hci_open_controller</a> (<a class="el" href="bt__device_8h.html#ab1e8dbb4daef6b7fcc15ded741d835f2">bt_address_t</a> *mac, char *name)</td></tr>
<tr class="memdesc:a43e49e2f34480dbbbad3b35380ad6be8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new hci_controller instance using the adapter given by the.  <a href="#a43e49e2f34480dbbbad3b35380ad6be8">More...</a><br /></td></tr>
<tr class="separator:a43e49e2f34480dbbbad3b35380ad6be8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb50184acf4b6c4281189bff73ba403c"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hci__controller_8h.html#adb50184acf4b6c4281189bff73ba403c">hci_resolve_interruption</a> (<a class="el" href="structhci__socket__t.html">hci_socket_t</a> *hci_socket, <a class="el" href="structhci__controller__t.html">hci_controller_t</a> *hci_controller)</td></tr>
<tr class="memdesc:adb50184acf4b6c4281189bff73ba403c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tries to resolve a past interruption of a controller in order to put it in the default state to be able to use it properly again. The field.  <a href="#adb50184acf4b6c4281189bff73ba403c">More...</a><br /></td></tr>
<tr class="separator:adb50184acf4b6c4281189bff73ba403c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d72e7095213ceea7fb51988003184cf"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hci__controller_8h.html#a9d72e7095213ceea7fb51988003184cf">hci_close_controller</a> (<a class="el" href="structhci__controller__t.html">hci_controller_t</a> *hci_controller)</td></tr>
<tr class="memdesc:a9d72e7095213ceea7fb51988003184cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes and destroys an hci_controller instance. More precisely, it closes all the opened sockets on this controller and frees all the used memory. The.  <a href="#a9d72e7095213ceea7fb51988003184cf">More...</a><br /></td></tr>
<tr class="separator:a9d72e7095213ceea7fb51988003184cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ed3991fac3d799a67bf135298fccba1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structhci__socket__t.html">hci_socket_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hci__controller_8h.html#a1ed3991fac3d799a67bf135298fccba1">hci_open_socket_controller</a> (<a class="el" href="structhci__controller__t.html">hci_controller_t</a> *hci_controller)</td></tr>
<tr class="memdesc:a1ed3991fac3d799a67bf135298fccba1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens a new socket on the given hci_controller. The.  <a href="#a1ed3991fac3d799a67bf135298fccba1">More...</a><br /></td></tr>
<tr class="separator:a1ed3991fac3d799a67bf135298fccba1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcd85bb11bf6ac37a98332f68c501cd4"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hci__controller_8h.html#adcd85bb11bf6ac37a98332f68c501cd4">hci_close_socket_controller</a> (<a class="el" href="structhci__controller__t.html">hci_controller_t</a> *hci_controller, <a class="el" href="structhci__socket__t.html">hci_socket_t</a> *hci_socket)</td></tr>
<tr class="memdesc:adcd85bb11bf6ac37a98332f68c501cd4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes one of the opened sockets of an hci_controller. The.  <a href="#adcd85bb11bf6ac37a98332f68c501cd4">More...</a><br /></td></tr>
<tr class="separator:adcd85bb11bf6ac37a98332f68c501cd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b7894ebc4eabe2766fbfc44530dacbb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structbt__device__table__t.html">bt_device_table_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hci__controller_8h.html#a0b7894ebc4eabe2766fbfc44530dacbb">hci_scan_devices</a> (<a class="el" href="structhci__socket__t.html">hci_socket_t</a> *hci_socket, <a class="el" href="structhci__controller__t.html">hci_controller_t</a> *hci_controller, uint8_t duration, uint16_t max_rsp, long flags)</td></tr>
<tr class="memdesc:a0b7894ebc4eabe2766fbfc44530dacbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs a basic Bluetooth scan to recognize nearby devices. The.  <a href="#a0b7894ebc4eabe2766fbfc44530dacbb">More...</a><br /></td></tr>
<tr class="separator:a0b7894ebc4eabe2766fbfc44530dacbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca1046c5addb9696c0878bac86b38093"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hci__controller_8h.html#aca1046c5addb9696c0878bac86b38093">hci_compute_device_name</a> (<a class="el" href="structhci__socket__t.html">hci_socket_t</a> *hci_socket, <a class="el" href="structhci__controller__t.html">hci_controller_t</a> *hci_controller, <a class="el" href="structbt__device__t.html">bt_device_t</a> *bt_device)</td></tr>
<tr class="memdesc:aca1046c5addb9696c0878bac86b38093"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the name of a remote device. Send an inquiry to the remote device to get its name. The.  <a href="#aca1046c5addb9696c0878bac86b38093">More...</a><br /></td></tr>
<tr class="separator:aca1046c5addb9696c0878bac86b38093"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87e3e819b32b8c2e14912f0e0e907449"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hci__controller_8h.html#a87e3e819b32b8c2e14912f0e0e907449">hci_get_RSSI</a> (<a class="el" href="structhci__socket__t.html">hci_socket_t</a> *hci_socket, <a class="el" href="structhci__controller__t.html">hci_controller_t</a> *hci_controller, int8_t *file_descriptor, <a class="el" href="bt__device_8h.html#ab1e8dbb4daef6b7fcc15ded741d835f2">bt_address_t</a> *mac, uint8_t duration, uint16_t max_rsp)</td></tr>
<tr class="memdesc:a87e3e819b32b8c2e14912f0e0e907449"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs a RSSI measurement on a remote device. This function is in charge of sending RSSI inquiries and retrieving them to/from the remote device. The computed results can be stored inside a file if needed. Even though the filters apply to the socket are changed during the process, they are reset to their initial values in the end. The.  <a href="#a87e3e819b32b8c2e14912f0e0e907449">More...</a><br /></td></tr>
<tr class="separator:a87e3e819b32b8c2e14912f0e0e907449"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2b6e7e655859f9a9bd10268c02ceca6"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hci__controller_8h.html#ac2b6e7e655859f9a9bd10268c02ceca6">hci_LE_get_RSSI</a> (<a class="el" href="structhci__socket__t.html">hci_socket_t</a> *hci_socket, <a class="el" href="structhci__controller__t.html">hci_controller_t</a> *hci_controller, int8_t *file_descriptor, <a class="el" href="bt__device_8h.html#ab1e8dbb4daef6b7fcc15ded741d835f2">bt_address_t</a> *mac, uint16_t max_rsp, uint8_t scan_type, uint16_t scan_interval, uint16_t scan_window, uint8_t own_add_type, uint8_t scan_filter_policy)</td></tr>
<tr class="memdesc:ac2b6e7e655859f9a9bd10268c02ceca6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs a RSSI measurement on a remote device (LE version). This function is in charge of sending RSSI inquiries and retrieving them to/from the remote device. The computed results can be stored inside a file if needed. Even though the filters apply to the socket are changed during the process, they are reset to their initial values in the end. The.  <a href="#ac2b6e7e655859f9a9bd10268c02ceca6">More...</a><br /></td></tr>
<tr class="separator:ac2b6e7e655859f9a9bd10268c02ceca6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd3a30436c824c5eee6bfe2a113bac3b"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hci__controller_8h.html#afd3a30436c824c5eee6bfe2a113bac3b">hci_LE_clear_white_list</a> (<a class="el" href="structhci__socket__t.html">hci_socket_t</a> *hci_socket, <a class="el" href="structhci__controller__t.html">hci_controller_t</a> *hci_controller)</td></tr>
<tr class="memdesc:afd3a30436c824c5eee6bfe2a113bac3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears the white list of a Bluetooth adapter. The white list is the list of all devices from which the adapter can take answers while performing LE inquiries. The.  <a href="#afd3a30436c824c5eee6bfe2a113bac3b">More...</a><br /></td></tr>
<tr class="separator:afd3a30436c824c5eee6bfe2a113bac3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f29175aafffb77ac08d17083a3f4d3d"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hci__controller_8h.html#a3f29175aafffb77ac08d17083a3f4d3d">hci_LE_add_white_list</a> (<a class="el" href="structhci__socket__t.html">hci_socket_t</a> *hci_socket, <a class="el" href="structhci__controller__t.html">hci_controller_t</a> *hci_controller, const <a class="el" href="structbt__device__t.html">bt_device_t</a> bt_device)</td></tr>
<tr class="memdesc:a3f29175aafffb77ac08d17083a3f4d3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a device to the white list of a Bluetooth adapter. The.  <a href="#a3f29175aafffb77ac08d17083a3f4d3d">More...</a><br /></td></tr>
<tr class="separator:a3f29175aafffb77ac08d17083a3f4d3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af64faf83308a5f9afcd4b06dd40aea7a"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hci__controller_8h.html#af64faf83308a5f9afcd4b06dd40aea7a">hci_LE_rm_white_list</a> (<a class="el" href="structhci__socket__t.html">hci_socket_t</a> *hci_socket, <a class="el" href="structhci__controller__t.html">hci_controller_t</a> *hci_controller, const <a class="el" href="structbt__device__t.html">bt_device_t</a> bt_device)</td></tr>
<tr class="memdesc:af64faf83308a5f9afcd4b06dd40aea7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes a device to the white list of a Bluetooth adapter. The.  <a href="#af64faf83308a5f9afcd4b06dd40aea7a">More...</a><br /></td></tr>
<tr class="separator:af64faf83308a5f9afcd4b06dd40aea7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97044b8d163a46ad4f25c45d3fafc75f"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hci__controller_8h.html#a97044b8d163a46ad4f25c45d3fafc75f">hci_LE_get_white_list_size</a> (<a class="el" href="structhci__socket__t.html">hci_socket_t</a> *hci_socket, <a class="el" href="structhci__controller__t.html">hci_controller_t</a> *hci_controller, uint8_t *size)</td></tr>
<tr class="memdesc:a97044b8d163a46ad4f25c45d3fafc75f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the size of the white list of a Bluetooth adapter. The.  <a href="#a97044b8d163a46ad4f25c45d3fafc75f">More...</a><br /></td></tr>
<tr class="separator:a97044b8d163a46ad4f25c45d3fafc75f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49729064b9280cb166e05b9fb6b756a9"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hci__controller_8h.html#a49729064b9280cb166e05b9fb6b756a9">hci_LE_read_local_supported_features</a> (<a class="el" href="structhci__socket__t.html">hci_socket_t</a> *hci_socket, <a class="el" href="structhci__controller__t.html">hci_controller_t</a> *hci_controller, uint8_t *features)</td></tr>
<tr class="memdesc:a49729064b9280cb166e05b9fb6b756a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lists the supported LE features of a Bluetooth adapter. Since the official Bluetooth core specification doesn't give any information on this feature, expect that most of the values returned are RFU, this function has no warranty to work well. The.  <a href="#a49729064b9280cb166e05b9fb6b756a9">More...</a><br /></td></tr>
<tr class="separator:a49729064b9280cb166e05b9fb6b756a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bc91e06d5066ea9b1ce47173682565c"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hci__controller_8h.html#a3bc91e06d5066ea9b1ce47173682565c">hci_LE_read_supported_states</a> (<a class="el" href="structhci__socket__t.html">hci_socket_t</a> *hci_socket, <a class="el" href="structhci__controller__t.html">hci_controller_t</a> *hci_controller, uint64_t *states)</td></tr>
<tr class="memdesc:a3bc91e06d5066ea9b1ce47173682565c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the supported (real) states of a Bluetooth adapter. The.  <a href="#a3bc91e06d5066ea9b1ce47173682565c">More...</a><br /></td></tr>
<tr class="separator:a3bc91e06d5066ea9b1ce47173682565c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Module bluez_tools.hci.hci_controller bringing an "upper-layer" to the BlueZ's HCI (Host Controller Interface) functions. </p>
<p>The goal of this module is to provide more reliable and adaptative functions. All the following functions are using an "hci_controller" structure in order to abstract entirely the BlueZ methods.</p>
<p>In all that follows, we call "adapter" the device on which we want to perform HCI control. It could be for instance a Bluetooth dongle.</p>
<dl class="section author"><dt>Author</dt><dd>Thomas Bertauld </dd></dl>
<dl class="section date"><dt>Date</dt><dd>03/03/2016 </dd></dl>

<p>Definition in file <a class="el" href="hci__controller_8h_source.html">hci_controller.h</a>.</p>
</div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="a2eca2b368aaeefc3764faf7184c7e3c9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="hci__controller_8h.html#a2eca2b368aaeefc3764faf7184c7e3c9">hci_state_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Possible states of the hci_controller. The hci_controller is a state machine. That is to say that a virtual state is associated to each real used state of the adapter. For instance, when an adapter is scanning devices, the state machine will be in the. </p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;HCI_STATE_SCANNING </div>
</div><!-- fragment --><p> state. If you want to add more states, please follow the naming convention "HCI_STATE_..." for convenience. The default state for a controller (idle) is</p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;HCI_STATE_OPEN </div>
</div><!-- fragment --><p> . </p>

<p>Definition at line <a class="el" href="hci__controller_8h_source.html#l00065">65</a> of file <a class="el" href="hci__controller_8h_source.html">hci_controller.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a9d72e7095213ceea7fb51988003184cf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t hci_close_controller </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhci__controller__t.html">hci_controller_t</a> *&#160;</td>
          <td class="paramname"><em>hci_controller</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Closes and destroys an hci_controller instance. More precisely, it closes all the opened sockets on this controller and frees all the used memory. The. </p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;hci_controller </div>
</div><!-- fragment --><p> reference has to be valid. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hci_controller</td><td>reference on the controller to finalize. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, &lt; 0 otherwise. </dd></dl>

<p>Definition at line <a class="el" href="hci__controller_8c_source.html#l00234">234</a> of file <a class="el" href="hci__controller_8c_source.html">hci_controller.c</a>.</p>

</div>
</div>
<a class="anchor" id="adcd85bb11bf6ac37a98332f68c501cd4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t hci_close_socket_controller </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhci__controller__t.html">hci_controller_t</a> *&#160;</td>
          <td class="paramname"><em>hci_controller</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhci__socket__t.html">hci_socket_t</a> *&#160;</td>
          <td class="paramname"><em>hci_socket</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Closes one of the opened sockets of an hci_controller. The. </p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;hci_controller </div>
</div><!-- fragment --><p> reference has to be valid (the referenced controller should be opened and initialized). The</p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;hci_socket </div>
</div><!-- fragment --><p> field has to refer to an opened socket on the given controller. WARNING : only this function should be used to close a socket on an hci_controller for the socket to properly be removed from the sockets list of the controller. Using the classic</p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;close_hci_socket </div>
</div><!-- fragment --><p> function will result in the socket still being referenced in the list and could be used (while closed) in another context thus leading to errors.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="hci__socket_8h.html#a95a3dbfe1bee3b35afb326da13ce26d8" title="Closes a previsouly opened hci_socket. If the given socket&#39;s reference is invalid or if the socket is...">close_hci_socket</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hci_controller</td><td>controller on which to close the socket. </td></tr>
    <tr><td class="paramname">hci_socket</td><td>socket to close. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, &lt; 0 otherwise. </dd></dl>

<p>Definition at line <a class="el" href="hci__controller_8c_source.html#l00270">270</a> of file <a class="el" href="hci__controller_8c_source.html">hci_controller.c</a>.</p>

</div>
</div>
<a class="anchor" id="aca1046c5addb9696c0878bac86b38093"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t hci_compute_device_name </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhci__socket__t.html">hci_socket_t</a> *&#160;</td>
          <td class="paramname"><em>hci_socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhci__controller__t.html">hci_controller_t</a> *&#160;</td>
          <td class="paramname"><em>hci_controller</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbt__device__t.html">bt_device_t</a> *&#160;</td>
          <td class="paramname"><em>bt_device</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the name of a remote device. Send an inquiry to the remote device to get its name. The. </p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;hci_socket </div>
</div><!-- fragment --><p> field can either be a valid opened socket on a valid Bluetooth adapter or NULL, in which case a new socket is opened on the given</p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;hci_controller </div>
</div><!-- fragment --><p> . </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hci_socket</td><td>socket to be used to perform the inquiry. </td></tr>
    <tr><td class="paramname">hci_controller</td><td>controller emitting the inquiry. </td></tr>
    <tr><td class="paramname">bt_device</td><td>device from which the name is to be asked. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, in which case the name of the device is successfully stored under its<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;real_name </div>
</div><!-- fragment --> field, &lt; 0 if an error occured, in which case its<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;real_name </div>
</div><!-- fragment --> becomes <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;[UNKNOWN </div>
</div><!-- fragment --> }. </dd></dl>

<p>Definition at line <a class="el" href="hci__controller_8c_source.html#l00629">629</a> of file <a class="el" href="hci__controller_8c_source.html">hci_controller.c</a>.</p>

</div>
</div>
<a class="anchor" id="a87e3e819b32b8c2e14912f0e0e907449"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* hci_get_RSSI </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhci__socket__t.html">hci_socket_t</a> *&#160;</td>
          <td class="paramname"><em>hci_socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhci__controller__t.html">hci_controller_t</a> *&#160;</td>
          <td class="paramname"><em>hci_controller</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t *&#160;</td>
          <td class="paramname"><em>file_descriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="bt__device_8h.html#ab1e8dbb4daef6b7fcc15ded741d835f2">bt_address_t</a> *&#160;</td>
          <td class="paramname"><em>mac</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>duration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>max_rsp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs a RSSI measurement on a remote device. This function is in charge of sending RSSI inquiries and retrieving them to/from the remote device. The computed results can be stored inside a file if needed. Even though the filters apply to the socket are changed during the process, they are reset to their initial values in the end. The. </p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;hci_socket </div>
</div><!-- fragment --><p> field can either be a valid opened socket on a valid Bluetooth adapter or NULL, in which case a new socket is opened on the given</p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;hci_controller </div>
</div><!-- fragment --><p> . The {} field has to refer to a valid opened hci_controller. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hci_socket</td><td>socket to be used to send and retrieve RSSI inquiries. </td></tr>
    <tr><td class="paramname">hci_controller</td><td>local controller. </td></tr>
    <tr><td class="paramname">file_descriptor</td><td>(optional) if set, the RSSI values will be written in the corresponding file. </td></tr>
    <tr><td class="paramname">mac</td><td>address of the device from which we want the RSSI values. </td></tr>
    <tr><td class="paramname">duration</td><td>duration of the RSSI scan. </td></tr>
    <tr><td class="paramname">max_rsp</td><td>maximum RSSI values to receive. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the computed RSSI values stored in a string. </dd></dl>

<p>Definition at line <a class="el" href="hci__controller_8c_source.html#l00737">737</a> of file <a class="el" href="hci__controller_8c_source.html">hci_controller.c</a>.</p>

</div>
</div>
<a class="anchor" id="a3f29175aafffb77ac08d17083a3f4d3d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t hci_LE_add_white_list </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhci__socket__t.html">hci_socket_t</a> *&#160;</td>
          <td class="paramname"><em>hci_socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhci__controller__t.html">hci_controller_t</a> *&#160;</td>
          <td class="paramname"><em>hci_controller</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structbt__device__t.html">bt_device_t</a>&#160;</td>
          <td class="paramname"><em>bt_device</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a device to the white list of a Bluetooth adapter. The. </p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;hci_socket </div>
</div><!-- fragment --><p> field can either be a valid opened socket on a valid Bluetooth adapter or NULL, in which case a new socket is opened on the given</p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;hci_controller </div>
</div><!-- fragment --><p> . The {} field has to refer to a valid opened hci_controller. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hci_socket</td><td>socket used to access the controller's list. </td></tr>
    <tr><td class="paramname">hci_controller</td><td>controller from which the list is to be modified. </td></tr>
    <tr><td class="paramname">bt_device</td><td>device to add. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 upon success, &lt;0 otherwise. </dd></dl>

<p>Definition at line <a class="el" href="hci__controller_8c_source.html#l00501">501</a> of file <a class="el" href="hci__controller_8c_source.html">hci_controller.c</a>.</p>

</div>
</div>
<a class="anchor" id="afd3a30436c824c5eee6bfe2a113bac3b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t hci_LE_clear_white_list </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhci__socket__t.html">hci_socket_t</a> *&#160;</td>
          <td class="paramname"><em>hci_socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhci__controller__t.html">hci_controller_t</a> *&#160;</td>
          <td class="paramname"><em>hci_controller</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clears the white list of a Bluetooth adapter. The white list is the list of all devices from which the adapter can take answers while performing LE inquiries. The. </p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;hci_socket </div>
</div><!-- fragment --><p> field can either be a valid opened socket on a valid Bluetooth adapter or NULL, in which case a new socket is opened on the given</p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;hci_controller </div>
</div><!-- fragment --><p> . The {} field has to refer to a valid opened hci_controller. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hci_socket</td><td>socket used to access the controller's list. </td></tr>
    <tr><td class="paramname">hci_controller</td><td>controller from which the list is to be cleared. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 upon success, &lt;0 otherwise. </dd></dl>

<p>Definition at line <a class="el" href="hci__controller_8c_source.html#l00466">466</a> of file <a class="el" href="hci__controller_8c_source.html">hci_controller.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac2b6e7e655859f9a9bd10268c02ceca6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* hci_LE_get_RSSI </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhci__socket__t.html">hci_socket_t</a> *&#160;</td>
          <td class="paramname"><em>hci_socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhci__controller__t.html">hci_controller_t</a> *&#160;</td>
          <td class="paramname"><em>hci_controller</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t *&#160;</td>
          <td class="paramname"><em>file_descriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="bt__device_8h.html#ab1e8dbb4daef6b7fcc15ded741d835f2">bt_address_t</a> *&#160;</td>
          <td class="paramname"><em>mac</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>max_rsp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>scan_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>scan_interval</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>scan_window</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>own_add_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>scan_filter_policy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs a RSSI measurement on a remote device (LE version). This function is in charge of sending RSSI inquiries and retrieving them to/from the remote device. The computed results can be stored inside a file if needed. Even though the filters apply to the socket are changed during the process, they are reset to their initial values in the end. The. </p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;hci_socket </div>
</div><!-- fragment --><p> field can either be a valid opened socket on a valid Bluetooth adapter or NULL, in which case a new socket is opened on the given</p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;hci_controller </div>
</div><!-- fragment --><p> . The {} field has to refer to a valid opened hci_controller. For a detailed description of the last five parameters, please refer to the official Bluetooth documentation and the provided examples. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hci_socket</td><td>socket to be used to send and retrieve RSSI inquiries. </td></tr>
    <tr><td class="paramname">hci_controller</td><td>local controller. </td></tr>
    <tr><td class="paramname">file_descriptor</td><td>(optional) if set, the RSSI values will be written in the corresponding file. </td></tr>
    <tr><td class="paramname">mac</td><td>address of the device from which we want the RSSI values. </td></tr>
    <tr><td class="paramname">duration</td><td>duration of the RSSI scan. </td></tr>
    <tr><td class="paramname">max_rsp</td><td>maximum RSSI values to receive. </td></tr>
    <tr><td class="paramname">scan_type</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>hci_le_set_scan_parameters </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">scan_interval</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>hci_le_set_scan_parameters </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">scan_window</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>hci_le_set_scan_parameters </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">own_add_type</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>hci_le_set_scan_parameters </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">scan_filter_policy</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>hci_le_set_scan_parameters </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>the computed RSSI values stored in a string. </dd></dl>

<p>Definition at line <a class="el" href="hci__controller_8c_source.html#l00994">994</a> of file <a class="el" href="hci__controller_8c_source.html">hci_controller.c</a>.</p>

</div>
</div>
<a class="anchor" id="a97044b8d163a46ad4f25c45d3fafc75f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t hci_LE_get_white_list_size </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhci__socket__t.html">hci_socket_t</a> *&#160;</td>
          <td class="paramname"><em>hci_socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhci__controller__t.html">hci_controller_t</a> *&#160;</td>
          <td class="paramname"><em>hci_controller</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads the size of the white list of a Bluetooth adapter. The. </p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;hci_socket </div>
</div><!-- fragment --><p> field can either be a valid opened socket on a valid Bluetooth adapter or NULL, in which case a new socket is opened on the given</p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;hci_controller </div>
</div><!-- fragment --><p> . The</p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;hci_controller </div>
</div><!-- fragment --><p> field has to refer to a valid opened hci_controller. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hci_socket</td><td>socket used to access the controller's list. </td></tr>
    <tr><td class="paramname">hci_controller</td><td>controller from which the list is to be accessed. </td></tr>
    <tr><td class="paramname">size</td><td>reference on the size of the list. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 upon success, ensuring that the<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;size </div>
</div><!-- fragment --> size parameter now contains the size of the white list, &lt;0 otherwise. </dd></dl>

<p>Definition at line <a class="el" href="hci__controller_8c_source.html#l00593">593</a> of file <a class="el" href="hci__controller_8c_source.html">hci_controller.c</a>.</p>

</div>
</div>
<a class="anchor" id="a49729064b9280cb166e05b9fb6b756a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t hci_LE_read_local_supported_features </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhci__socket__t.html">hci_socket_t</a> *&#160;</td>
          <td class="paramname"><em>hci_socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhci__controller__t.html">hci_controller_t</a> *&#160;</td>
          <td class="paramname"><em>hci_controller</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>features</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lists the supported LE features of a Bluetooth adapter. Since the official Bluetooth core specification doesn't give any information on this feature, expect that most of the values returned are RFU, this function has no warranty to work well. The. </p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;hci_socket </div>
</div><!-- fragment --><p> field can either be a valid opened socket on a valid Bluetooth adapter or NULL, in which case a new socket is opened on the given</p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;hci_controller </div>
</div><!-- fragment --><p> . The {} field has to refer to a valid opened hci_controller. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hci_socket</td><td>socket used to access the controller's list. </td></tr>
    <tr><td class="paramname">hci_controller</td><td>controller from which the list is to be accessed. </td></tr>
    <tr><td class="paramname">features</td><td>binary mask used to store the list of supported features. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 upon success, ensuring that the<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;features </div>
</div><!-- fragment --> parameter now contains the list of all supported LE features, &lt;0 otherwise. </dd></dl>

<p>Definition at line <a class="el" href="hci__controller_8c_source.html#l00339">339</a> of file <a class="el" href="hci__controller_8c_source.html">hci_controller.c</a>.</p>

</div>
</div>
<a class="anchor" id="a3bc91e06d5066ea9b1ce47173682565c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t hci_LE_read_supported_states </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhci__socket__t.html">hci_socket_t</a> *&#160;</td>
          <td class="paramname"><em>hci_socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhci__controller__t.html">hci_controller_t</a> *&#160;</td>
          <td class="paramname"><em>hci_controller</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>states</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads the supported (real) states of a Bluetooth adapter. The. </p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;hci_socket </div>
</div><!-- fragment --><p> field can either be a valid opened socket on a valid Bluetooth adapter or NULL, in which case a new socket is opened on the given</p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;hci_controller </div>
</div><!-- fragment --><p> . The {} field has to refer to a valid opened hci_controller. On success, the function should return a non-negative value and the variable pointed by</p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;states </div>
</div><!-- fragment --><p> should have been set to an unsigned int representing a binary filter of the available states. For an user-friendly view, the states contained in this binary filter can be displayed on the standard output by using the function</p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;hci_display_LE_states </div>
</div><!-- fragment --><p> from the </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;hci_utils </div>
</div><!-- fragment --><p> module. </p><dl class="section see"><dt>See also</dt><dd>hci_display_LE_states </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hci_socket</td><td>socket used to access the controller's list. </td></tr>
    <tr><td class="paramname">hci_controller</td><td>controller from which the list is to be accessed. </td></tr>
    <tr><td class="paramname">states</td><td>binary mask used to store the list of supported states. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 upon success, ensuring that the<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;states </div>
</div><!-- fragment --> parameter now contains the list of all supported LE states, &lt;0 otherwise. </dd></dl>

<p>Definition at line <a class="el" href="hci__controller_8c_source.html#l00402">402</a> of file <a class="el" href="hci__controller_8c_source.html">hci_controller.c</a>.</p>

</div>
</div>
<a class="anchor" id="af64faf83308a5f9afcd4b06dd40aea7a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t hci_LE_rm_white_list </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhci__socket__t.html">hci_socket_t</a> *&#160;</td>
          <td class="paramname"><em>hci_socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhci__controller__t.html">hci_controller_t</a> *&#160;</td>
          <td class="paramname"><em>hci_controller</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structbt__device__t.html">bt_device_t</a>&#160;</td>
          <td class="paramname"><em>bt_device</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes a device to the white list of a Bluetooth adapter. The. </p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;hci_socket </div>
</div><!-- fragment --><p> field can either be a valid opened socket on a valid Bluetooth adapter or NULL, in which case a new socket is opened on the given</p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;hci_controller </div>
</div><!-- fragment --><p> . The {} field has to refer to a valid opened hci_controller. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hci_socket</td><td>socket used to access the controller's list. </td></tr>
    <tr><td class="paramname">hci_controller</td><td>controller from which the list is to be modified. </td></tr>
    <tr><td class="paramname">bt_device</td><td>device to remove. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 upon success, &lt;0 otherwise. </dd></dl>

<p>Definition at line <a class="el" href="hci__controller_8c_source.html#l00547">547</a> of file <a class="el" href="hci__controller_8c_source.html">hci_controller.c</a>.</p>

</div>
</div>
<a class="anchor" id="a43e49e2f34480dbbbad3b35380ad6be8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structhci__controller__t.html">hci_controller_t</a> hci_open_controller </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="bt__device_8h.html#ab1e8dbb4daef6b7fcc15ded741d835f2">bt_address_t</a> *&#160;</td>
          <td class="paramname"><em>mac</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new hci_controller instance using the adapter given by the. </p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;mac </div>
</div><!-- fragment --><p> reference. If this reference is NULL, we take the first available adapter in the system. The field</p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;name </div>
</div><!-- fragment --><p> is used to describe in an user-friendly way the adapter. If NULL then the name of the adapter will be "UNKNOWN". </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mac</td><td>address of the adapter to use. </td></tr>
    <tr><td class="paramname">name</td><td>user-friendly name used to describe the adapter. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the newly created instance of the adapter's hci_controller. </dd></dl>

<p>Definition at line <a class="el" href="hci__controller_8c_source.html#l00207">207</a> of file <a class="el" href="hci__controller_8c_source.html">hci_controller.c</a>.</p>

</div>
</div>
<a class="anchor" id="a1ed3991fac3d799a67bf135298fccba1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structhci__socket__t.html">hci_socket_t</a> hci_open_socket_controller </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhci__controller__t.html">hci_controller_t</a> *&#160;</td>
          <td class="paramname"><em>hci_controller</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Opens a new socket on the given hci_controller. The. </p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;hci_controller </div>
</div><!-- fragment --><p> reference has to be valid. WARNING : only this function should be used to open a socket on an hci_controller for the socket to properly be added to the sockets list of the controller. Indeed, if you use the classic</p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;open_hci_socket </div>
</div><!-- fragment --><p> function, the socket will not be added to the controller and it could result to an UNSTABLE system state when using a socket non-created with this function.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="hci__socket_8h.html#ac730f28538bed12bc177e62f0553f1be" title="Opens an hci_socket on the given controller. If the controller address is NULL, the first available c...">open_hci_socket</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hci_controller</td><td>reference on the controller on which the socket is to be opened. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the newly created instance of the socket. If an error occured during the creation of the socket, its<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;sock </div>
</div><!-- fragment --> field is set to -1 and the socket is not added to the sockets list on the controller. </dd></dl>

<p>Definition at line <a class="el" href="hci__controller_8c_source.html#l00247">247</a> of file <a class="el" href="hci__controller_8c_source.html">hci_controller.c</a>.</p>

</div>
</div>
<a class="anchor" id="adb50184acf4b6c4281189bff73ba403c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t hci_resolve_interruption </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhci__socket__t.html">hci_socket_t</a> *&#160;</td>
          <td class="paramname"><em>hci_socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhci__controller__t.html">hci_controller_t</a> *&#160;</td>
          <td class="paramname"><em>hci_controller</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tries to resolve a past interruption of a controller in order to put it in the default state to be able to use it properly again. The field. </p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;hci_socket </div>
</div><!-- fragment --><p> must refers to either NULL, so a new socket is opened on the given controller, or a valid opened socket on the given controller. The field</p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;hci_controller </div>
</div><!-- fragment --><p> has to be a valid reference on an opened hci_controller. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hci_socket</td><td>a reference on either a valid opened socket on the controller or NULL. In the later case, a new one is opened. </td></tr>
    <tr><td class="paramname">hci_controller</td><td>a valid reference on a hci_controller. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if the interruption has been resolved, a value &lt; 0 otherwise. </dd></dl>

<p>Definition at line <a class="el" href="hci__controller_8c_source.html#l00294">294</a> of file <a class="el" href="hci__controller_8c_source.html">hci_controller.c</a>.</p>

</div>
</div>
<a class="anchor" id="a0b7894ebc4eabe2766fbfc44530dacbb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structbt__device__table__t.html">bt_device_table_t</a> hci_scan_devices </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhci__socket__t.html">hci_socket_t</a> *&#160;</td>
          <td class="paramname"><em>hci_socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhci__controller__t.html">hci_controller_t</a> *&#160;</td>
          <td class="paramname"><em>hci_controller</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>duration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>max_rsp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Performs a basic Bluetooth scan to recognize nearby devices. The. </p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;hci_socket </div>
</div><!-- fragment --><p> field can either be a valid opened socket on a valid Bluetooth adapter or NULL, in which case a new socket is opened on the given</p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;hci_controller </div>
</div><!-- fragment --><p> . The {} field has to refer to a valid opened hci_controller. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hci_socket</td><td>socket to be used to perform the scan. </td></tr>
    <tr><td class="paramname">hci_controller</td><td>controller emitting the scan. </td></tr>
    <tr><td class="paramname">duration</td><td>the scan will last at most<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;duration </div>
</div><!-- fragment --> *1,28s. </td></tr>
    <tr><td class="paramname">max_rsp</td><td>max number of devices to be scanned. </td></tr>
    <tr><td class="paramname">flags</td><td>inquiry flags. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="hci__controller_8c_source.html#l00667">667</a> of file <a class="el" href="hci__controller_8c_source.html">hci_controller.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_8f2754e0b5b7165e9cb90f3876d8525d.html">hci</a></li><li class="navelem"><a class="el" href="dir_9dbc0e2fe1e940ff9806453ebce7cc50.html">include</a></li><li class="navelem"><a class="el" href="hci__controller_8h.html">hci_controller.h</a></li>
    <li class="footer">Generated on Mon Apr 4 2016 15:05:16 for bluez_tools by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
