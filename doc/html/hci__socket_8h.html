<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>bluez_tools: hci/include/hci_socket.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">bluez_tools
   &#160;<span id="projectnumber">0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('hci__socket_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">hci_socket.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Module bluez_tools.hci.hci_socket bringing functions to deal with hci_sockets. Those sockets are "intern" sockets and are only used to communicate with a LOCAL bt adapter (typically a bt dongle).  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;bluetooth/bluetooth.h&gt;</code><br />
<code>#include &lt;bluetooth/hci.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &quot;list.h&quot;</code><br />
<code>#include &quot;<a class="el" href="bt__device_8h_source.html">bt_device.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for hci_socket.h:</div>
<div class="dyncontent">
<div class="center"><img src="hci__socket_8h__incl.png" border="0" usemap="#hci_2include_2hci__socket_8h" alt=""/></div>
<map name="hci_2include_2hci__socket_8h" id="hci_2include_2hci__socket_8h">
<area shape="rect" id="node5" href="list_8h_source.html" title="list.h" alt="" coords="367,80,418,107"/><area shape="rect" id="node7" href="bt__device_8h.html" title="Module bluez_tools.bt.bt_device defining the basics of manipulating BT devices. " alt="" coords="203,80,292,107"/></map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="hci__socket_8h__dep__incl.png" border="0" usemap="#hci_2include_2hci__socket_8hdep" alt=""/></div>
<map name="hci_2include_2hci__socket_8hdep" id="hci_2include_2hci__socket_8hdep">
<area shape="rect" id="node2" href="hci__socket_8c_source.html" title="hci/hci_socket.c" alt="" coords="5,80,123,107"/><area shape="rect" id="node3" href="hci__controller_8h.html" title="Module bluez_tools.hci.hci_controller bringing an &quot;upper&#45;layer&quot; to the BlueZ&#39;s HCI (Host Controller I..." alt="" coords="147,80,323,107"/><area shape="rect" id="node4" href="hci__controller_8c_source.html" title="hci/hci_controller.c" alt="" coords="169,155,300,181"/></map>
</div>
</div>
<p><a href="hci__socket_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structhci__socket__t.html">hci_socket_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac730f28538bed12bc177e62f0553f1be"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structhci__socket__t.html">hci_socket_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hci__socket_8h.html#ac730f28538bed12bc177e62f0553f1be">open_hci_socket</a> (<a class="el" href="bt__device_8h.html#ab1e8dbb4daef6b7fcc15ded741d835f2">bt_address_t</a> *controller)</td></tr>
<tr class="memdesc:ac730f28538bed12bc177e62f0553f1be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens an hci_socket on the given controller. If the controller address is NULL, the first available controller on the system is taken. On success, the returned socket must have its both fields ("sock" and "dev_id") non-negative.  <a href="#ac730f28538bed12bc177e62f0553f1be">More...</a><br /></td></tr>
<tr class="separator:ac730f28538bed12bc177e62f0553f1be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95a3dbfe1bee3b35afb326da13ce26d8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hci__socket_8h.html#a95a3dbfe1bee3b35afb326da13ce26d8">close_hci_socket</a> (<a class="el" href="structhci__socket__t.html">hci_socket_t</a> *hci_socket)</td></tr>
<tr class="memdesc:a95a3dbfe1bee3b35afb326da13ce26d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes a previsouly opened hci_socket. If the given socket's reference is invalid or if the socket is already closed, this function should print a warning message on the standard error output.  <a href="#a95a3dbfe1bee3b35afb326da13ce26d8">More...</a><br /></td></tr>
<tr class="separator:a95a3dbfe1bee3b35afb326da13ce26d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43b0da185ed3eec81fa46873dbc14297"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hci__socket_8h.html#a43b0da185ed3eec81fa46873dbc14297">close_all_hci_sockets</a> (<a class="el" href="structlist__t.html">list_t</a> **hci_socket_list)</td></tr>
<tr class="memdesc:a43b0da185ed3eec81fa46873dbc14297"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes all the hci_sockets stored in a list. Because this function calls "close_hci_socket", if one of the references stored in the list is invalid or if one of the contained sockets was already closed, a warning message should be displayed on the standard error output.  <a href="#a43b0da185ed3eec81fa46873dbc14297">More...</a><br /></td></tr>
<tr class="separator:a43b0da185ed3eec81fa46873dbc14297"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fe93f661713ed1c27ca01ffb7cbcaf3"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hci__socket_8h.html#a0fe93f661713ed1c27ca01ffb7cbcaf3">get_hci_socket_filter</a> (<a class="el" href="structhci__socket__t.html">hci_socket_t</a> hci_socket, struct hci_filter *old_flt)</td></tr>
<tr class="memdesc:a0fe93f661713ed1c27ca01ffb7cbcaf3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the current socket filter applied to the given hci_socket. Upon success the filter referenced by the.  <a href="#a0fe93f661713ed1c27ca01ffb7cbcaf3">More...</a><br /></td></tr>
<tr class="separator:a0fe93f661713ed1c27ca01ffb7cbcaf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41c62e5a10a7a6ddfd01d17f08de9d7f"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hci__socket_8h.html#a41c62e5a10a7a6ddfd01d17f08de9d7f">set_hci_socket_filter</a> (<a class="el" href="structhci__socket__t.html">hci_socket_t</a> hci_socket, struct hci_filter *flt)</td></tr>
<tr class="memdesc:a41c62e5a10a7a6ddfd01d17f08de9d7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the filter of the given hci_socket by using the given filter's reference. The reference has to be a valid one.  <a href="#a41c62e5a10a7a6ddfd01d17f08de9d7f">More...</a><br /></td></tr>
<tr class="separator:a41c62e5a10a7a6ddfd01d17f08de9d7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2b90ce159d251ff9439ceb320aa5350"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hci__socket_8h.html#ad2b90ce159d251ff9439ceb320aa5350">display_hci_socket_list</a> (<a class="el" href="structlist__t.html">list_t</a> *hci_socket_list)</td></tr>
<tr class="memdesc:ad2b90ce159d251ff9439ceb320aa5350"><td class="mdescLeft">&#160;</td><td class="mdescRight">Displays all hci_sockets stored in an hci_socket list on the standard output. The list's reference has to be a valid one.  <a href="#ad2b90ce159d251ff9439ceb320aa5350">More...</a><br /></td></tr>
<tr class="separator:ad2b90ce159d251ff9439ceb320aa5350"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Module bluez_tools.hci.hci_socket bringing functions to deal with hci_sockets. Those sockets are "intern" sockets and are only used to communicate with a LOCAL bt adapter (typically a bt dongle). </p>
<dl class="section author"><dt>Author</dt><dd>Thomas Bertauld </dd></dl>
<dl class="section date"><dt>Date</dt><dd>03/03/2016 </dd></dl>

<p>Definition in file <a class="el" href="hci__socket_8h_source.html">hci_socket.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a43b0da185ed3eec81fa46873dbc14297"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void close_all_hci_sockets </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlist__t.html">list_t</a> **&#160;</td>
          <td class="paramname"><em>hci_socket_list</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Closes all the hci_sockets stored in a list. Because this function calls "close_hci_socket", if one of the references stored in the list is invalid or if one of the contained sockets was already closed, a warning message should be displayed on the standard error output. </p>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000001">Deprecated:</a></b></dt><dd></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hci_socket_list</td><td>reference on a sockets list. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="hci__socket_8c_source.html#l00076">76</a> of file <a class="el" href="hci__socket_8c_source.html">hci_socket.c</a>.</p>

</div>
</div>
<a class="anchor" id="a95a3dbfe1bee3b35afb326da13ce26d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void close_hci_socket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhci__socket__t.html">hci_socket_t</a> *&#160;</td>
          <td class="paramname"><em>hci_socket</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Closes a previsouly opened hci_socket. If the given socket's reference is invalid or if the socket is already closed, this function should print a warning message on the standard error output. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hci_socket</td><td>socket to close. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="hci__socket_8c_source.html#l00063">63</a> of file <a class="el" href="hci__socket_8c_source.html">hci_socket.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad2b90ce159d251ff9439ceb320aa5350"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void display_hci_socket_list </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlist__t.html">list_t</a> *&#160;</td>
          <td class="paramname"><em>hci_socket_list</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Displays all hci_sockets stored in an hci_socket list on the standard output. The list's reference has to be a valid one. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hci_socket_list</td><td>list to display. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="hci__socket_8c_source.html#l00126">126</a> of file <a class="el" href="hci__socket_8c_source.html">hci_socket.c</a>.</p>

</div>
</div>
<a class="anchor" id="a0fe93f661713ed1c27ca01ffb7cbcaf3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t get_hci_socket_filter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhci__socket__t.html">hci_socket_t</a>&#160;</td>
          <td class="paramname"><em>hci_socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct hci_filter *&#160;</td>
          <td class="paramname"><em>old_flt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves the current socket filter applied to the given hci_socket. Upon success the filter referenced by the. </p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;old_flt </div>
</div><!-- fragment --><p> parameter is filled with the current filter applied to the given socket and the function returns 0. If an error occured, the filter has not been retrieved and -1 is returned. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hci_socket</td><td>the socket from which the filter is to be retrieved. </td></tr>
    <tr><td class="paramname">old_flt</td><td>reference on the retrieved filter. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 upon success. </dd></dl>

<p>Definition at line <a class="el" href="hci__socket_8c_source.html#l00102">102</a> of file <a class="el" href="hci__socket_8c_source.html">hci_socket.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac730f28538bed12bc177e62f0553f1be"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structhci__socket__t.html">hci_socket_t</a> open_hci_socket </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="bt__device_8h.html#ab1e8dbb4daef6b7fcc15ded741d835f2">bt_address_t</a> *&#160;</td>
          <td class="paramname"><em>controller</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Opens an hci_socket on the given controller. If the controller address is NULL, the first available controller on the system is taken. On success, the returned socket must have its both fields ("sock" and "dev_id") non-negative. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">controller</td><td>address of the controller on which the socket is to be opened. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the newly created socket. Upon succes, both its fiels should be non-negative. </dd></dl>

<p>Definition at line <a class="el" href="hci__socket_8c_source.html#l00033">33</a> of file <a class="el" href="hci__socket_8c_source.html">hci_socket.c</a>.</p>

</div>
</div>
<a class="anchor" id="a41c62e5a10a7a6ddfd01d17f08de9d7f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t set_hci_socket_filter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structhci__socket__t.html">hci_socket_t</a>&#160;</td>
          <td class="paramname"><em>hci_socket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct hci_filter *&#160;</td>
          <td class="paramname"><em>flt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the filter of the given hci_socket by using the given filter's reference. The reference has to be a valid one. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hci_socket</td><td>socket on which the filter is to be set. </td></tr>
    <tr><td class="paramname">flt</td><td>filter to apply. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>upon success, the filter has been set on the socket and the function returns 0. If an error occured, the filter has bot been set and -1 is returned. </dd></dl>

<p>Definition at line <a class="el" href="hci__socket_8c_source.html#l00115">115</a> of file <a class="el" href="hci__socket_8c_source.html">hci_socket.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_8f2754e0b5b7165e9cb90f3876d8525d.html">hci</a></li><li class="navelem"><a class="el" href="dir_9dbc0e2fe1e940ff9806453ebce7cc50.html">include</a></li><li class="navelem"><a class="el" href="hci__socket_8h.html">hci_socket.h</a></li>
    <li class="footer">Generated on Mon Apr 4 2016 15:05:16 for bluez_tools by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
